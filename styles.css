/* Refined, more elegant palette: deep charcoal + muted antique gold accent */
:root {
  --bg:#0d0f12;
  --panel:#181b20;
  --panel-alt:#20242b;
  --accent:#d4b782;
  --accent-alt:#b8945e;
  --accent-grad:linear-gradient(135deg,#d4b782,#b8945e);
  --focus-ring:rgba(212,183,130,.55);
  --text:#eef0f2;
  --muted:#9fa7b3;
  --line:#262b31;
  --serif:'Playfair Display',serif;
  --sans:'Source Sans 3',system-ui,sans-serif;
}
* { box-sizing:border-box; }
body { margin:0; font-family:var(--sans); background:radial-gradient(circle at 28% 22%,#1a1e24,#0d0f12 72%); color:var(--text); -webkit-font-smoothing:antialiased; }
/* Cover screen */
.cover-screen { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:radial-gradient(circle at 40% 35%,#181c21,#0b0d10 70%); z-index:999; animation:fadeIn .8s ease; }
.cover-inner { text-align:center; max-width:560px; padding:2.5rem 2rem 3rem; background:rgba(18,20,24,.55); backdrop-filter:blur(18px); border:1px solid rgba(255,255,255,.06); border-radius:28px; box-shadow:0 10px 40px -18px rgba(0,0,0,.6); }
.cover-inner h1 { margin:0 0 1rem; font-family:var(--serif); font-size:clamp(2.2rem,5vw,3.1rem); background:var(--accent-grad); -webkit-background-clip:text; background-clip:text; color:transparent; letter-spacing:.5px; }
.cover-inner p { margin:.25rem 0 1.5rem; line-height:1.45; font-size:1rem; color:var(--muted); }
.muted-line { font-size:.8rem; letter-spacing:1px; opacity:.75; text-transform:uppercase; display:inline-block; margin-top:.65rem; }
.cover-start { cursor:pointer; background:var(--accent); color:#1b1814; border:1px solid var(--accent-alt); font-weight:600; letter-spacing:.5px; padding:.85rem 2.1rem; border-radius:40px; font-size:.95rem; box-shadow:0 4px 18px -6px rgba(212,183,130,.45); transition:.35s; }
.cover-start:hover { filter:brightness(1.05); transform:translateY(-2px); }
.cover-start:active { transform:translateY(0); }
.cover-hint { margin-top:1.8rem; font-size:.7rem; letter-spacing:.5px; text-transform:uppercase; color:var(--muted); opacity:.65; }
.hide-cover { opacity:0; pointer-events:none; transition:opacity .65s ease; }
@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

.app-header { display:flex; flex-wrap:wrap; gap:1rem; align-items:center; justify-content:space-between; padding:1rem 1.25rem; background:rgba(18,20,24,.7); backdrop-filter:blur(14px); position:sticky; top:0; z-index:10; border-bottom:1px solid var(--line); }
.app-header h1 { font-family:var(--serif); font-weight:600; letter-spacing:.5px; margin:0; background:var(--accent-grad); -webkit-background-clip:text; background-clip:text; color:transparent; filter:drop-shadow(0 2px 6px rgba(0,0,0,.35)); }
.controls { display:flex; align-items:center; gap:.75rem; }
.controls button { cursor:pointer; background:var(--panel); border:1px solid var(--line); color:var(--text); padding:.55rem .9rem; border-radius:40px; font-size:.8rem; letter-spacing:.5px; transition:.3s cubic-bezier(.4,.2,.2,1); box-shadow:0 2px 4px -2px rgba(0,0,0,.4); }
.controls button:hover { background:var(--panel-alt); }
.controls button[aria-pressed="true"] { background:var(--accent); color:#1a1610; border-color:var(--accent-alt); box-shadow:0 0 0 1px var(--accent-alt),0 4px 18px -6px rgba(212,183,130,.4); }
.progress-wrapper { width:140px; height:6px; border-radius:4px; background:#242a31; overflow:hidden; position:relative; box-shadow:inset 0 0 0 1px #1a1f25; }
#progress-bar { height:100%; width:0%; background:var(--accent-grad); transition:width .5s ease; }

main { max-width:880px; margin:0 auto; padding:1.25rem clamp(.9rem,2vw,2.15rem) 5rem; line-height:1.58; font-size:1.04rem; }
.chapter { animation:fade .6s ease; margin-bottom:3rem; }
.chapter h2 { font-family:var(--serif); font-weight:600; margin:0 0 1rem; font-size:1.9rem; letter-spacing:.5px; }
.segment { margin:1.25rem 0; padding:1rem 1.1rem 1.15rem; background:linear-gradient(145deg,rgba(255,255,255,.018),rgba(255,255,255,.01)); border:1px solid rgba(255,255,255,.04); border-radius:18px; position:relative; overflow:hidden; transition:border-color .35s, background .35s; }
.segment:hover { border-color:rgba(255,255,255,.12); background:linear-gradient(145deg,rgba(255,255,255,.03),rgba(255,255,255,.012)); }
.segment p { margin:.4rem 0; }
.translation { font-size:.91rem; color:var(--muted); margin-top:.4rem; font-weight:300; }
.translation.ru { display:none; font-size:.85rem; opacity:.85; }
.segment[data-show-ru="true"] .translation.ru { display:block; }
.word { position:relative; cursor:help; background:linear-gradient(transparent 62%,rgba(212,183,130,.28) 62%); padding:0 2px; }
.word[data-active="true"] { background:linear-gradient(transparent 55%,var(--accent) 55%); color:#1d1b17; }
.tooltip { position:absolute; left:0; bottom:100%; transform:translateY(-6px); background:#121417; color:#fff; font-size:.68rem; padding:.42rem .55rem; border-radius:6px; white-space:nowrap; box-shadow:0 4px 18px -2px rgba(0,0,0,.55); opacity:0; pointer-events:none; transition:.25s; border:1px solid rgba(255,255,255,.06); }
.word[data-active="true"] .tooltip { opacity:1; }

.chapter-nav { position:fixed; bottom:0; left:0; right:0; display:flex; justify-content:center; gap:1rem; padding:.75rem 1rem calc(.75rem + env(safe-area-inset-bottom)); background:linear-gradient(180deg,rgba(13,15,18,0),rgba(13,15,18,.9)); backdrop-filter:blur(12px); border-top:1px solid var(--line); }
.chapter-nav button { background:var(--panel); border:1px solid var(--line); color:var(--text); padding:.65rem 1rem; border-radius:14px; cursor:pointer; font-size:1rem; min-width:56px; transition:.3s; }
.chapter-nav button:disabled { opacity:.35; cursor:not-allowed; }
.chapter-nav button:not(:disabled):hover { background:var(--panel-alt); }
.chapter-nav button[aria-pressed="true"], .chapter-nav button:not(:disabled):active { background:var(--accent); color:#1a1610; box-shadow:0 4px 16px -6px rgba(212,183,130,.45); }
#chapter-indicator { font-size:.88rem; letter-spacing:1px; display:flex; align-items:center; font-family:var(--serif); font-weight:500; }

.app-footer { text-align:center; padding:3.5rem 1rem 4.5rem; font-size:.68rem; color:var(--muted); opacity:.85; }

@keyframes fade { from { opacity:0; translate:0 10px; } to { opacity:1; translate:0 0; } }

@media (max-width:760px) {
  main { padding:1rem 1rem 6rem; font-size:1rem; }
  .segment { border-radius:16px; }
  .app-header { gap:.75rem; }
  .app-header h1 { font-size:1.4rem; }
  .cover-inner { padding:2rem 1.4rem 2.6rem; }
}
